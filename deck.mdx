import {
  FullScreenCode,
  Head,
  Image,
  SplitRight,
  themes,
  Steps,
} from "mdx-deck";
import { CodeSurfer } from "code-surfer";
import { vsDark } from "@code-surfer/themes";

export const theme = {
  ...themes.dark,
  styles: {
    ul: {
      maxWidth: "80vw",
    },
    li: {
      fontSize: "1.4em",
      lineHeight: "1.5em",
      marginBottom: ".6em",
    },
    p: {
      fontSize: "1.3em",
    },
    a: {
      fontSize: ".8em",
      color: "#fff",
    },
    blockquote: {
      width: "60vw",
      fontSize: "1.5em",
      fontStyle: "italic",
      // "&::before": {
      //   fontSize: "3em",
      //   content: "'\"'",
      //   marginBottom: 0,
      //   padding: 0,
      // },
      p: {
        fontSize: "1em",
      },
    },
    CodeSurfer: {
      title: {
        fontSize: "1.5em",
      },
    },
  },
};

import storyBookSite from "./images/storybook-site.png";
import storyBookSupports from "./images/storybook-supports.png";

<Head>
  <title>Storybook Streamlines UI Component Development</title>
</Head>

---

# Storybook Streamlines

# UI Component Development

##

##

## Steve Schwarz

## [@steveaschwarz](https://twitter.com/steveaschwarz)

---

- Developer since 1991

- Full stack web dev:
  Python (Django, Flask), JavaScript, Angular, VueJS, Ionic

- Personal dog agility and tech projects:
  [agilitynerd.com](https://www.agilitynerd.com) [tech.agilitynerd.com](https://tech.agilitynerd.com) [googility.com](https://googility.com) [agilitycourses.com](https://agilitycourses.com) [agilitycoursemaster.com](https://agilitycoursemaster.com)

---

# Agenda

- Introduce Storybook

- Storybook in action with VueJS

---

## https://storybook.js.org/

<Image
  src={storyBookSite}
  size="contain"
  style={{ width: "80vw", margin: "0" }}
></Image>

---

<!--
> Storybook runs outside of your app. So you can develop UI components in isolation without worrying about app specific dependencies and requirements.

https://github.com/storybookjs/storybook

--- -->


> Storybook is a development environment for UI components. It allows you to browse a component library, view the different states of each component, and interactively develop and test components.

https://github.com/storybookjs/storybook

---

## Storybook for Most Frameworks

<Image
  src={storyBookSupports}
  size="contain"
  style={{ width: "80vw", margin: "0" }}
></Image>

---

# Batteries Included

- Visual, interactive browsing of components/states
- Controls to change/inspect components
- Generate documentation along with components
- Compose Pages/layouts of components

---

# Stories Can Drive Other Tests

- Unit
- Snapshot
- Visual Regression
- End to End

---

## Installs into existing projects

`npx sb init`

## Run it

`yarn storybook`

---

<CodeSurfer theme={vsDark}>


```js title="A Story Defines Component State" showNumbers
import Button from "@/components/Button.vue";

export default {
  title: "Example/Button",
  component: Button,
  argTypes: {
    backgroundColor: { control: "color" },
    size: {
      control: { type: "select", options: ["small", "medium", "large"] },
    },
  },
};

// template mapping args to props
const Template = (args) => <Button {...args} />;

// Each story reuses the template with new args

export const Primary = Template.bind({});
Primary.args = { primary: true, label: "Button" };

export const Secondary = Template.bind({});
Secondary.args = { label: "Button" };
```

```diff 1 subtitle="Import component under test"

```

```diff 3:12 subtitle="Setup story"

```

```diff 14:15 subtitle="Define render template"

```

```diff 17:20 subtitle="Primary Story"

```

```diff 22:23 subtitle="Secondary Story"

```

</CodeSurfer>


---

# Unit Tests

Use story configurations within unit tests

---

# Snapshot Testing

Use Jest snapshots within unit tests

Use `storyshots` plugin to generate snapshots for _all Stories_

## https://storybook.js.org/docs/vue/workflows/snapshot-testing

---

# Accessibility Testing

`storybook-addon-a11y` uses [axe](https://github.com/dequelabs/axe-core)

## https://github.com/storybookjs/storybook/tree/master/addons/a11y

Could also add `axe` to your Jest tests:

https://github.com/nickcolley/jest-axe

---

# Visual Regession Tests

---

# Resources

## Learning Storybook

https://www.learnstorybook.com/intro-to-storybook/

https://www.learnstorybook.com/design-systems-for-developers

## Large Storybook Projects

https://react.carbondesignsystem.com/?path=/story/accordion--accordion

https://bbc.github.io/psammead

https://storybook.js.org/docs/react/get-started/examples

---

# Thanks!

@steveaschwarz

Code: https://github.com/saschwarz/vue2-storybook

Slides: https://github.com/saschwarz/vue2-storybook-lightning

---
